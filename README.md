# Human Activity Tracker on the STM32 AI Platform

This project is a real-time Human Activity Recognition (HAR) system implemented on the STM32L475 IoT board (B-L475E-IOT01A1).

It uses a 1D Convolutional Neural Network (1D-CNN) to classify human movements based on accelerometer data. The recognized activity is then transmitted via Bluetooth Low Energy (BLE) to a Flutter mobile application for visualization.

## Features

* **On-Device AI:** Performs all model inference directly on the microcontroller (Edge AI) using X-CUBE-AI.
* **Real-Time Recognition:** Classifies 7 different activities from sensor data.
* **Low Power:** Optimized to run on a low-power STM32L4xx series MCU.
* **BLE Communication:** Transmits the recognized activity label to a mobile device.

## Hardware

* **Board:** STM32L475 IoT Discovery Kit (B-L475E-IOT01A1)
* **Sensors:** LSM6DSL 3-axis accelerometer and gyroscope (this model currently uses the accelerometer).

## Project Structure

The repository is divided into three main parts:

1.  **`firmware/`**: The complete STM32CubeIDE project.
    * `Core/`: Main application logic (`main.c`), including sensor data collection, preprocessing, and BLE communication.
    * `Drivers/`: STM32 HAL drivers and BSP (Board Support Package) for the B-L475E-IOT01A1 board and LSM6DSL sensor.
    * `Middlewares/ST/AI/`: The X-CUBE-AI runtime library.
    * `X-CUBE-AI/App/`: The AI model files (`network.c`, `network.h`, `network_data.c`) generated by X-CUBE-AI.
    * `*.ioc`: The STM32CubeMX configuration file.

2.  **`firmware/resources/`**: The Python environment for training the neural network.
    * `datasets/`: Contains the StrengthSense dataset (or scripts to process it).
    * `processing/`: Python scripts for data preprocessing (filtering, windowing, normalization).
    * `model.py`: The Keras/TensorFlow definition of the 1D-CNN.
    * `evaluate_model.py`: Script to test the model and generate metrics.
    * `models/our_model/`: Contains the final trained model (`.h5`), training history, and evaluation results (like `confusion_matrix.png`).

## Model Details

The model is a 1D-CNN optimized for memory efficiency.

* **Dataset:** StrengthSense (from Aalto University)
* **Input:** A window of 96 samples (approx. 2 seconds at 52 Hz) from the 3-axis accelerometer.
* **Output:** One of 7 different activities.
* **Performance:** Achieves an overall accuracy of **84.87%** on the test set.
* **Footprint:** The model is highly efficient, requiring minimal RAM (~17-21 KiB) and Flash (~141 KiB) on the MCU.

## Authors

* Solomiia Gadiichuk
* Bohdan Zasymovych
* Marta Kosiv
* Mentor: Yevgeniy Karplyuk
